---
title: GitLab Flow
date: 2017-08-31 16:49:54
tags: [git,gitlab]
---

![gitlab flow](info_01.png)

## 介绍
使用git的版本管理使分支和合并比旧版本系统（如SVN）更容易。git允许各种分支策略和工作流程。本篇文章将的内容，几乎所有的都是基于原有的git流程的改进。但是许多组织最终都没有一个明确的工作流程，要么就是流程过于复杂没有集成issue跟踪系统。因此，我们提出GitLab Flow是明确定义的一套最佳实践。它结合了[功能驱动开发](https://en.wikipedia.org/wiki/Feature-driven_development)和[功能分支](http://martinfowler.com/bliki/FeatureBranch.html)与问题跟踪。

来自其他版本控制系统的组织经常发现很难开发有效的工作流程。本文介绍将git工作流与问题跟踪系统集成在一起的GitLab流程。它提供了一个简单，透明和有效的方式来处理git。

![my workflow](info_02.png)

当转换为git的时候，你必须习惯在共享代码之前执行3个步骤。大多数版本控制系统只有一步，从工作副本到共享服务器。在git中，您可以将工作副本中的文件添加到暂存区域。之后，提交代码到本地仓库。第三步是推送到共享的远程仓库。在习惯了这三个步骤之后，分支模型将成为挑战。

![](info_03.png)

由于许多新git组织没有约定如何处理，所以很快就会变得混乱。他们遇到的最大问题是许多长时间运行的分支都包含部分变化。人们很难清楚他们应该在哪个分支开发以及部署哪个分支到生产环境中。通常对这个问题的采取的方法是采用诸如[git flow](http://nvie.com/posts/a-successful-git-branching-model/)和[GitHub flow](http://scottchacon.com/2011/08/31/github-flow.html)的标准化模式。我们认为仍有改进的空间，并将详细说明我们称之为GitLab流程的一套做法。

### Git flow的问题
- - -

![](info_04.png)

Git flow的第一个提议是使用git分支，并且受到了很多关注。它主张，一个master分支，一个develop分支，以及支持功能开发，版本和修复bug的分支。开发人员在develop分支上开发，然后合并到release分支，最终合并到master分支上。Git flow是一个明确的标准，但其复杂性引入了两个问题。第一个问题是开发人员必须使用开发分支而不是master，master被保留用于发布到生产的代码。按照惯例，通常会有一个默认分支，并且大部分分支最终都合并到了该分支。由于大多数工具自动将主分支设置为默认分支，默认情况下显示该分支是不方便的，因此必须切换到另一个分支。git flow的第二个问题是hotfix和release分支引入的复杂性。这些分支对于一些组织来说可能是一个好主意，但对于绝大多数组织来说，这些分支并不是必须的。如今，大多数组织都在不断地进行交付，这意味着您可以部署默认分支。这意味着hotfix，release分支可以被去除，包括它们所引入的操作。这些操作的一个例子就是需要合并回release分支。尽管有专门的工具来解决这个问题，但是他们需要文档支持以及增加了复杂性。开发人员经常会犯错误，例如代码只合并到了master分支而忽略了develop分支。这些错误的根本原因是git flow对于大多数用例来说太复杂了。




